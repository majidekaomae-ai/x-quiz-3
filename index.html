<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Twitter Card / OG（絶対URLに修正済み） -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="3択クイズ：押したら即、正解表示">
  <meta name="twitter:description" content="タップして選ぶとその場で正解が出ます。">
  <meta name="twitter:image" content="https://x-quiz-2.onrender.com/card.jpg?v=2">

  <meta property="og:type" content="website">
  <meta property="og:title" content="3択クイズ：押したら即、正解表示">
  <meta property="og:description" content="タップして選ぶとその場で正解が出ます。">
  <meta property="og:image" content="https://x-quiz-2.onrender.com/card.jpg?v=2">
  <meta property="og:url" content="https://x-quiz-2.onrender.com/">
  <link rel="canonical" href="https://x-quiz-2.onrender.com/">

  <title>3択クイズ</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{ --bg:#f6f8fb; --card:#ffffff; --text:#1f2937; --muted:#6b7280; --primary:#2563eb; --primary-2:#1e40af; --ok:#16a34a; --ng:#dc2626; --border:#e5e7eb; --shadow:0 10px 25px rgba(0,0,0,.07); }
    @media (prefers-color-scheme: dark){
      :root{ --bg:#0b1220; --card:#0f1629; --text:#e5e7eb; --muted:#9ca3af; --border:#1f2937; --shadow:0 10px 30px rgba(0,0,0,.4); }
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:var(--text);
      background: radial-gradient(1200px 600px at 10% -10%, #dbeafe55, transparent 60%),
                 radial-gradient(1200px 600px at 110% 10%, #fde68a33, transparent 60%),
                 var(--bg);
      display:flex; align-items:flex-start; justify-content:center;
    }
    .wrap{width:100%; max-width:760px; padding:32px 16px}
    .card{ background:var(--card); border:1px solid var(--border); border-radius:20px; box-shadow:var(--shadow); padding:28px 24px; animation:fadeIn .6s ease-out }
    @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
    h1{font-size:1.5rem; line-height:1.4; margin:4px 0 14px; letter-spacing:.2px}
    .meta{color:var(--muted); font-size:.92rem; margin-bottom:14px}
    .choices{display:grid; gap:12px; margin:18px 0 6px}
    .choice{
      display:block; border:1px solid var(--border); background:#f8fafc; border-radius:12px; padding:14px 16px; text-decoration:none; color:inherit; font-size:1rem; position:relative; overflow:hidden; transition:.18s ease;
    }
    .choice::after{content:""; position:absolute; inset:0; background:linear-gradient(120deg,#93c5fd44,#c7d2fe44); opacity:0; transition:.3s}
    .choice:hover::after{opacity:1} .choice:hover{ transform:translateY(-2px); box-shadow:0 6px 14px rgba(0,0,0,.08) }
    .choice:active{ transform:translateY(0); box-shadow:none }
    .choice:focus-visible{ outline:3px solid #93c5fd; outline-offset:2px }
    .correct{ color:var(--ok); font-weight:700; margin-top:14px; animation:pop .3s ease-out }
    .wrong{ color:var(--ng); font-weight:700; margin-top:14px; animation:pop .3s ease-out }
    @keyframes pop{0%{transform:scale(.9)}100%{transform:scale(1)}}
    .explain{ margin-top:12px; padding:14px 14px; border:1px dashed var(--border); border-radius:14px; background:linear-gradient(180deg,#f8fafc,transparent) }
    .video a{ display:inline-flex; gap:8px; align-items:center; font-weight:600; color:var(--primary); text-decoration:none; margin-top:8px }
    .video a:hover{ color:var(--primary-2); transform:translateX(2px) }
    footer{ color:var(--muted); font-size:.85rem; margin-top:20px; text-align:center }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="meta">3択クイズ</div>

      <!-- ▼ 問題文（自由に変更） -->
      <h1 id="q">両親や兄弟に大腸がんの人がいると、自分のリスクは？</h1>

      <!-- ▼ 選択肢（?a=0/1/2 で即判定） -->
      <div class="choices">
        <a class="choice" href="?a=0">A. 変わらない</a>
        <a class="choice" href="?a=1">B. 約1.2倍</a>
        <a class="choice" href="?a=2">C. 約2倍</a>
      </div>

      <!-- ▼ 判定＆解説が出る場所 -->
      <div id="result"></div>

      <footer>タップで回答、即判定・解説表示</footer>
    </div>
  </div>

  <script>
    // ▼ 正解と解説（ここだけ変えれば別問題にも使い回せます）
    const quiz = {
      answer: 2, // A=0, B=1, C=2…
      explain: "血縁者に大腸がんがあると、自分のリスクは約2倍。遺伝や生活習慣の共通が影響していると考えられています。定期的な検診で早期発見・予防が可能です。",
      video: { title: "名医が解説する「大腸がん」第4話。視聴はコチラから！", url: "https://youtu.be/DCTI1P8a5RQ" } // 不要なら url を空欄に
    };

    // ▼ URLの ?a= に応じて即判定
    const params = new URLSearchParams(location.search);
    const a = params.get("a");
    if (a !== null) {
      const chosen = parseInt(a, 10);
      const letters = ["A","B","C","D"];
      const isCorrect = chosen === quiz.answer;
      const res = document.getElementById("result");
      res.innerHTML = `
        <p class="${isCorrect ? 'correct' : 'wrong'}">
          ${isCorrect ? '✅ 正解！' : `❌ 残念！正解は ${letters[quiz.answer]} です`}
        </p>
        <div class="explain">
          <strong>解説：</strong> ${quiz.explain}
          ${quiz.video && quiz.video.url ? `
            <div class="video">
              <a href="${quiz.video.url}" target="_blank" rel="noopener noreferrer">▶ ${quiz.video.title || '動画を見る'}</a>
            </div>` : ''}
        </div>
      `;
      setTimeout(()=>res.scrollIntoView({behavior:'smooth', block:'start'}), 150);
    }
  </script>
</body>
</html>
